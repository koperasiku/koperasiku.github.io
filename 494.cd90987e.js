"use strict";(self["webpackChunkloan_cms_v2"]=self["webpackChunkloan_cms_v2"]||[]).push([[494],{5494:function(t,e,a){a.r(e),a.d(e,{default:function(){return z}});var n=a(1828),i=a(3385),s=a(5223),l=a(7652),o=a(5057),r=a(864),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-4"},[e(s.EB,[e("div",{staticClass:"text-h5 font-weight-light"},[t._v(" Pengajuan Pinjaman ")]),t.data.data.length>0?e("JsonExcel",{staticClass:"ml-auto",attrs:{data:t.data.data,fields:t.json_fields}},[e(n.Z,{staticClass:"primary"},[e(o.Z,{attrs:{color:"white"}},[t._v("mdi-download")]),t._v(" Download")],1)],1):t._e()],1),e(i.Z,{staticClass:"ma-2"},[e(s.EB,[e(r.Z,{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",width:"100px"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(l.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.data.data,"loading-text":"Loading... Please wait",loading:t.data.loading,search:t.search},scopedSlots:t._u([{key:"item.index",fn:function({item:e}){return[t._v(" "+t._s(t.data.data.indexOf(e)+1)+". ")]}},{key:"item.SubmitDate",fn:function({item:e}){return[t._v(" "+t._s(t.toDateTime2(e.SubmitDate))+" ")]}},{key:"item.LoanAmount",fn:function({item:e}){return[t._v(" "+t._s(e.LoanAmount>0?t.toRupiah(e.LoanAmount):"0")+" ")]}},{key:"item.InstallmentAmount",fn:function({item:e}){return[t._v(" "+t._s(e.InstallmentAmount>0?t.toRupiah(e.InstallmentAmount):"0")+" ")]}},{key:"item.Tenor",fn:function({item:e}){return[t._v(" "+t._s(e.Tenor)+" Bulan ")]}},{key:"item.action",fn:function({item:a}){return[e(n.Z,{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.detail(a)}}},[e(o.Z,{attrs:{small:""}},[t._v(" mdi-eye ")])],1),e(n.Z,{attrs:{icon:"",color:"warning"},on:{click:function(e){return t.edit(a)}}},[e(o.Z,{attrs:{small:""}},[t._v(" mdi-lead-pencil ")])],1)]}}],null,!0)})],1),e("Detail")],1)},c=[],d=a(629),h=a(3029),m=a(6879),p=a(4437),g=a(9789),f=a(271),v=a(2469),_=a(5294),k=a(9868),y=a(8178),Z=a(5234),b=a(5617),x=a(5838),D=a(2370),P=function(){var t=this,e=t._self._c;return e(_.Z,{attrs:{justify:"center"}},[e(g.Z,{attrs:{persistent:"",fullscreen:"",scrollable:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.state.modal,callback:function(e){t.$set(t.state,"modal",e)},expression:"state.modal"}},[e(i.Z,{attrs:{tile:""}},[e(x.Z,{attrs:{fixed:"",dark:"",color:"primary"}},[e(n.Z,{attrs:{icon:"",dark:""},on:{click:function(e){t.state.modal=!1}}},[e(o.Z,[t._v("mdi-close")])],1),e(D.qW,[t._v(t._s(t.state.action))]),e(Z.Z),e(D.lj,[e("div",{staticClass:"mt-auto mb-auto"},["Update"===t.state.action?e(n.Z,{staticClass:"success mr-1",attrs:{small:"",loading:t.state.loading},on:{click:function(e){return t.simpan("APV")}}},[e("span",{staticClass:"hidden-sm-and-down",attrs:{for:""}},[t._v("Approve")]),e("span",{staticClass:"hidden-lg-and-up",attrs:{for:""}},[t._v("APV")])]):t._e(),"Update"===t.state.action?e(n.Z,{staticClass:"error mr-1",attrs:{small:"",loading:t.state.loading},on:{click:function(e){return t.simpan("RJT")}}},[e("span",{staticClass:"hidden-sm-and-down",attrs:{for:""}},[t._v("Reject")]),e("span",{staticClass:"hidden-lg-and-up",attrs:{for:""}},[t._v("RJT")])]):e(n.Z,{staticClass:"warning",attrs:{small:"",loading:t.state.loading},on:{click:function(e){t.state.action="Update"}}},[t._v(" Edit ")])],1)])],1),e(s.ZB,[e("div",[e(_.Z,{staticClass:"mt-10",attrs:{dense:""}},[e(p.Z,{attrs:{cols:"12",md:"4"}},[e("label",{attrs:{for:""}},[t._v("Selfi dengan KTP/ID Card "),t.state.detail.FileAttachment_KTP?e(o.Z,{attrs:{color:"warning"},on:{click:function(e){return t.setFile(t.state.detail.FileAttachment_KTP)}}},[t._v("mdi-eye")]):t._e(),e(n.Z,{staticClass:"ml-auto mr-0",attrs:{href:t.state.detail.FileAttachment_KTP,icon:"",download:""}},[e(o.Z,[t._v("mdi-download")])],1)],1),e(k.Z,{staticClass:"pa-3",attrs:{color:"grey "+(t.theme.isDark?"darken-2":"lighten-4")}},[!t.state.loading&&t.state.detail.FileAttachment_KTP?e(v.Z,{attrs:{width:"100%",height:"300px",src:t.state.detail.FileAttachment_KTP}}):e(y.Z,{staticClass:"mx-auto",attrs:{width:"100%",height:"300px",type:"image"}})],1)],1),e(p.Z,{attrs:{cols:"12",md:"4"}},[e("label",{attrs:{for:""}},[t._v("Form Pengajuan "),t.state.detail.FileAttachment_DocPendukung?e(o.Z,{attrs:{color:"warning"},on:{click:function(e){return t.setFile(t.state.detail.FileAttachment_DocPendukung)}}},[t._v("mdi-eye")]):t._e(),e(n.Z,{staticClass:"ml-auto mr-0",attrs:{href:t.state.detail.FileAttachment_KTP,icon:"",download:""}},[e(o.Z,[t._v("mdi-download")])],1)],1),e(k.Z,{staticClass:"pa-3",attrs:{color:"grey "+(t.theme.isDark?"darken-2":"lighten-4")}},[!t.state.loading&&t.state.detail.FileAttachment_DocPendukung&&t.checkFile(t.state.detail.FileAttachment_DocPendukung)?e("iframe",{attrs:{width:"100%",height:"300px",src:t.state.detail.FileAttachment_DocPendukung}}):t.state.loading||!t.state.detail.FileAttachment_DocPendukung||t.checkFile(t.state.detail.FileAttachment_DocPendukung)?e(y.Z,{staticClass:"mx-auto",attrs:{width:"100%",height:"300px",type:"image"}}):e(v.Z,{attrs:{width:"100%",height:"300px",src:t.state.detail.FileAttachment_DocPendukung}})],1)],1),e(p.Z,{attrs:{cols:"12",md:"4"}},[e("label",{attrs:{for:""}},[t._v("Dokumen Pendukung "),t.state.detail.FileAttachment_DocPendukung2?e(o.Z,{attrs:{color:"warning"},on:{click:function(e){return t.setFile(t.state.detail.FileAttachment_DocPendukung2)}}},[t._v("mdi-eye")]):t._e(),e(n.Z,{staticClass:"ml-auto mr-0",attrs:{href:t.state.detail.FileAttachment_DocPendukung2,icon:"",download:""}},[e(o.Z,[t._v("mdi-download")])],1)],1),e(k.Z,{staticClass:"pa-3",attrs:{color:"grey "+(t.theme.isDark?"darken-2":"lighten-4")}},[!t.state.loading&&t.state.detail.FileAttachment_DocPendukung2&&t.checkFile(t.state.detail.FileAttachment_DocPendukung2)?e("iframe",{attrs:{width:"100%",height:"300px",src:t.state.detail.FileAttachment_DocPendukung2}}):t.state.loading||!t.state.detail.FileAttachment_DocPendukung2||t.checkFile(t.state.detail.FileAttachment_DocPendukung2)?e(y.Z,{staticClass:"mx-auto",attrs:{width:"100%",height:"300px",type:"image"}}):e(v.Z,{attrs:{width:"100%",height:"300px",src:t.state.detail.FileAttachment_DocPendukung2}})],1)],1),e(p.Z,{attrs:{cols:"12",md:"6"}},[e("label",{attrs:{for:""}},[t._v("NIK")]),e(r.Z,{attrs:{loading:t.state.loading,value:t.state.detail.NIK,filled:"",readonly:""}})],1),e(p.Z,{attrs:{cols:"12",md:"6",mb:"0"}},[e("label",{attrs:{for:""}},[t._v("Jabatan")]),e(r.Z,{attrs:{loading:t.state.loading,value:t.state.detail.JobTitle,filled:"",readonly:""}})],1),e(p.Z,{attrs:{cols:"12",md:"6"}},[e("label",{attrs:{for:""}},[t._v("Nama")]),e(r.Z,{attrs:{loading:t.state.loading,value:t.state.detail.firstname+" "+t.state.detail.lastname,filled:"",readonly:""}})],1),e(p.Z,{attrs:{cols:"12",md:"6"}},[e("label",{attrs:{for:""}},[t._v("Nomor Telepon")]),e(r.Z,{attrs:{loading:t.state.loading,value:t.state.detail.mobilephoneno,filled:"",readonly:""}})],1),e(p.Z,{attrs:{cols:"12",md:"6"}},[e("label",{attrs:{for:""}},[t._v("Lokasi kerja")]),e(r.Z,{attrs:{loading:t.state.loading,value:t.state.detail.WorkLocation,filled:"",readonly:""}})],1),e(p.Z,{attrs:{cols:"12",md:"6"}},[e("label",{attrs:{for:""}},[t._v("Email")]),e(r.Z,{attrs:{loading:t.state.loading,value:t.state.detail.email,filled:"",readonly:""}})],1),e(p.Z,{attrs:{cols:"12",md:"12"}},[e("label",{attrs:{for:""}},[t._v("Dokumen Persetujuan Pinjaman")]),"Update"===t.state.action?e(f.Z,{staticClass:"mt-2",attrs:{label:"Dokumen Persetujuan (PDF)",accept:"application/pdf","show-size":"",outlined:""},model:{value:t.state.DokumenPersetujuan,callback:function(e){t.$set(t.state,"DokumenPersetujuan",e)},expression:"state.DokumenPersetujuan"}}):t._e()],1),e(p.Z,{attrs:{cols:"12",md:"12"}},[e("label",{attrs:{for:""}},[t._v("Note Untuk Peminjaman "),e("span",{staticClass:"text-red"},[t._v("*")])]),e(b.Z,{attrs:{loading:t.state.loading,outlined:"",filled:"Update"!==t.state.action,disabled:"Update"!==t.state.action},model:{value:t.state.detail.Notes,callback:function(e){t.$set(t.state.detail,"Notes",e)},expression:"state.detail.Notes"}})],1)],1)],1)]),e("div",{staticStyle:{flex:"1 1 auto"}})],1)],1),e("viewFIle")],1)},A=[],C=a(1568),w={name:"HCBPDetail",data(){return{notifications:!1,sound:!0,widgets:!1,alignments:["start","center","end"]}},components:{viewFIle:C.Z},inject:{theme:{default:{isDark:!1}}},computed:{...(0,d.rn)("hcbp",{state:t=>t})},methods:{...(0,d.nv)("hcbp",["simpan"]),...(0,d.nv)("modalFile",["setFile"]),toRupiah(t){return m.Z.toRupiah(t)},toDateTime(t){return m.Z.toDateTime(t)},checkFile(t){if(t){const e=t.split(".");return"pdf"===e[4]}return!1}}},F=w,S=a(1001),T=(0,S.Z)(F,P,A,!1,null,null,null),I=T.exports,$=a(6540),j={name:"HCBPView",components:{Detail:I,JsonExcel:$.Z},data:()=>({search:"",headers:[{text:"#",align:"start",sortable:!1,value:"index"},{text:"Tgl Pengajuan",align:"start",sortable:!1,value:"SubmitDate"},{text:"NIK",sortable:!1,value:"NIK"},{text:"Jabatan",sortable:!1,value:"JobTitle"},{text:"Lokasi Kerja",sortable:!1,value:"WorkLocation"},{text:"Pinjaman",sortable:!1,value:"LoanAmount"},{text:"Angsuran",sortable:!1,value:"InstallmentAmount"},{text:"Tenor",sortable:!1,value:"Tenor"},{text:"Action",sortable:!1,value:"action"}],json_fields:{"Tgl Pengajuan":"SubmitDate",NIK:"NIK",Jabatan:"JobTitle","Lokasi Kerja":"WorkLocation",Pinjaman:"LoanAmount",Angsuran:"InstallmentAmount",Tenor:"Tenor"}}),mounted:function(){h.Z.dispatch("hcbp/reqData")},computed:{...(0,d.rn)("hcbp",{data:t=>t})},methods:{...(0,d.nv)("hcbp",["detail","edit"]),toRupiah(t){return m.Z.toRupiah(t)},toDateTime(t){return m.Z.toDateTime(t)},toDateTime2(t){return m.Z.toDateStringMount(t)}}},V=j,L=(0,S.Z)(V,u,c,!1,null,null,null),z=L.exports},271:function(t,e,a){a.d(e,{Z:function(){return u}});a(7658);var n=a(864),i=n.Z,s=a(4944),l=a(1050),o=a(6596),r=a(2653),u=i.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>(0,l.TI)(t).every((t=>null!=t&&"object"===typeof t))}},computed:{classes(){return{...i.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce(((t,{size:e=0})=>t+e),0);return this.$vuetify.lang.t(this.counterSizeString,t,(0,l.XE)(e,1024===this.base))},internalArrayValue(){return(0,l.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((t=>{const{name:e="",size:a=0}=t,n=this.truncateText(e);return this.showSize?`${n} (${(0,l.XE)(a,1024===this.base)})`:n})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&(0,o.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];(0,l.vZ)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((t,e)=>this.$createElement(s.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t]))):[]},genControl(){const t=i.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=(0,r.y0)(t.data.style,{display:"none"})),t},genInput(){const t=i.options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((e,a)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[a],file:e,index:a}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=i.options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:t=>{t.target&&"LABEL"===t.target.nodeName||this.$refs.input.click()}},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}â€¦${t.slice(t.length-e)}`}}})}}]);
//# sourceMappingURL=494.cd90987e.js.map